<div class="container mt-4">
  <div class="d-flex justify-content-center align-items-center bg-primary text-white p-3 mb-4">
    <div class="row">
      <div class="col-12">
        <div class="text-white text-center p-3 mb-4" style="background-color: #5bc0de;">
          <h4 class="mb-0">TV Series</h4>
        </div>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-lg-6 offset-lg-1">
      <table class="table table-striped table-hover text-center">
        <thead class="thead-light">
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>Channel</th>
            <th>Seasons</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let serie of series"
            (click)="selectSerie(serie)"
            [class.selected]="serie === selectedSerie"
            style="cursor: pointer;">
            <td>{{ serie.id }}</td>
            <td>
              <a [href]="serie.webpage"
                 target="_blank"
                 (click)="$event.stopPropagation()">
                {{ serie.name }}
              </a>
            </td>
            <td>{{ serie.channel }}</td>
            <td>{{ serie.seasons }}</td>
          </tr>
        </tbody>
      </table>
      <div class="text-center mt-3">
        <strong>Average Seasons:</strong> {{ averageSeasons % 1 === 0 ? averageSeasons : (averageSeasons | number:'1.1-1') }}
      </div>
    </div>

    <div class="col-lg-4">
      <div *ngIf="selectedSerie" class="card border-primary shadow info-panel">
        <div class="card-header bg-primary text-white text-center">
          {{ selectedSerie.name }}
        </div>
        <button class="btn-close position-absolute top-0 end-0 m-2"
        aria-label="Cerrar"
        (click)="selectedSerie = null">
        </button>
        <img [src]="selectedSerie.poster"
             [alt]="selectedSerie.name"
             class="mx-auto d-block"
             style="object-fit: contain; max-height:180px; width:auto;">
        <div class="card-body text-center">
          <p class="text-muted mb-2">
            {{ selectedSerie.channel }} | {{ selectedSerie.seasons }} temporadas
          </p>
          <p class="card-text mb-3">
            {{ selectedSerie.description }}
          </p>
          <a [href]="selectedSerie.webpage"
             target="_blank"
             class="btn btn-sm btn-primary">
            Ver p√°gina
          </a>
        </div>
      </div>
    </div>
  </div>
</div>